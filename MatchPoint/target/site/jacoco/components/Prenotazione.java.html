<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Prenotazione.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">MatchPoint</a> &gt; <a href="index.source.html" class="el_package">components</a> &gt; <span class="el_source">Prenotazione.java</span></div><h1>Prenotazione.java</h1><pre class="source lang-java linenums">package components;

import java.sql.Date;
import java.sql.Time;

//--------------------------------------------------------
//Code generated by Papyrus Java
//--------------------------------------------------------

/**
 * Classe che rappresenta una Prenotazione per un campo sportivo.
 */
public class Prenotazione {

    private int ID; // Identificativo univoco della prenotazione
    private Date data; // Data della prenotazione
    private Time oraInizio; // Ora di inizio della prenotazione
    private Time oraFine; // Ora di fine della prenotazione
    private int utenteID; // ID dell'utente che ha effettuato la prenotazione
    private int campoID; // ID del campo prenotato

    /**
     * Costruttore per una nuova prenotazione.
     * 
     * @param data      Data della prenotazione.
     * @param oraInizio Ora di inizio della prenotazione.
     * @param oraFine   Ora di fine della prenotazione.
     * @param utenteID  ID dell'utente.
     * @param campoID   ID del campo.
     */
<span class="fc" id="L31">    public Prenotazione(Date data, Time oraInizio, Time oraFine, int utenteID, int campoID) {</span>
<span class="fc" id="L32">        this.data = data;</span>
<span class="fc" id="L33">        this.oraInizio = oraInizio;</span>
<span class="fc" id="L34">        this.oraFine = oraFine;</span>
<span class="fc" id="L35">        this.utenteID = utenteID;</span>
<span class="fc" id="L36">        this.campoID = campoID;</span>
<span class="fc" id="L37">    }</span>

    /**
     * Costruttore per una prenotazione esistente (include ID).
     * 
     * @param ID        Identificativo della prenotazione.
     * @param data      Data della prenotazione.
     * @param oraInizio Ora di inizio della prenotazione.
     * @param oraFine   Ora di fine della prenotazione.
     * @param utenteID  ID dell'utente.
     * @param campoID   ID del campo.
     */
<span class="fc" id="L49">    public Prenotazione(int ID, Date data, Time oraInizio, Time oraFine, int utenteID, int campoID) {</span>
<span class="fc" id="L50">        this.ID = ID;</span>
<span class="fc" id="L51">        this.data = data;</span>
<span class="fc" id="L52">        this.oraInizio = oraInizio;</span>
<span class="fc" id="L53">        this.oraFine = oraFine;</span>
<span class="fc" id="L54">        this.utenteID = utenteID;</span>
<span class="fc" id="L55">        this.campoID = campoID;</span>
<span class="fc" id="L56">    }</span>

    public int getId() {
<span class="fc" id="L59">        return ID;</span>
    }

    public Date getData() {
<span class="fc" id="L63">        return data;</span>
    }

    public Time getOraInizio() {
<span class="fc" id="L67">        return oraInizio;</span>
    }

    public Time getOraFine() {
<span class="fc" id="L71">        return oraFine;</span>
    }

    /**
     * Calcola la durata della prenotazione come un oggetto Time.
     * 
     * @return Durata della prenotazione come Time.
     * @throws IllegalArgumentException Se gli orari non sono validi.
     */
    public Time getDurata() {
<span class="pc bpc" id="L81" title="2 of 6 branches missed.">        if (oraInizio == null || oraFine == null || oraFine.before(oraInizio)) {</span>
<span class="fc" id="L82">            throw new IllegalArgumentException(&quot;Orari non validi. Assicurati che ora fine sia successivo a ora inizio.&quot;);</span>
        }

        // Calcolare la durata in millisecondi
<span class="fc" id="L86">        long durataInMillis = oraFine.getTime() - oraInizio.getTime();</span>
        	
        // Convertire la durata in millisecondi in un oggetto Time
<span class="fc" id="L89">        return new Time(durataInMillis);</span>
    }

    /**
     * Restituisce la durata della prenotazione in formato ore e minuti.
     * 
     * @return Durata in formato &quot;HH:mm&quot;.
     */
    public String getDurataInFormatoOreMinuti() {
<span class="fc" id="L98">        Time durata = getDurata();</span>

        // Convertire il tempo in ore e minuti
<span class="fc" id="L101">        long totalMinutes = durata.getTime() / 60000; // Convertire i millisecondi in minuti</span>
<span class="fc" id="L102">        long ore = totalMinutes / 60;</span>
<span class="fc" id="L103">        long minuti = totalMinutes % 60;</span>

        // Restituire la durata in formato &quot;HH:mm&quot;
<span class="fc" id="L106">        return String.format(&quot;%02d:%02d&quot;, ore, minuti);</span>
    }

    public int getCampoId() {
<span class="fc" id="L110">        return campoID;</span>
    }

    public int getUtenteId() {
<span class="fc" id="L114">        return utenteID;</span>
    }

    /**
     * Rappresentazione testuale della prenotazione.
     * 
     * @return Stringa contenente i dettagli della prenotazione.
     */
    @Override
    public String toString() {
<span class="fc" id="L124">        return String.format(&quot;Inizio: %s | Fine: %s | Utente ID: %d | Campo ID: %d&quot;,</span>
<span class="fc" id="L125">                oraInizio, oraFine, utenteID, campoID);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>